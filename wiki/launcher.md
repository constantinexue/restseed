# 程序的启动关闭和配置加载方案 #

## 目标 ##

1. 程序提供启动和关闭的脚本。不要直接去"java -jar"调用，或者"kill 9980"这样杀掉进程。
2. 在不同的环境下启动关闭不用修改脚本文件，能够自动读取配置文件。不要每个环境都去修改同一个配置文件，影响git checkin以及自动化部署。

## 实现目标#1 ##

### 如何关闭进程？ ###

**启动进程不是问题，问题是不用kill把进程再关闭。**

Jetty server需要分配一个HTTP启动端口，比如8080，我们再分配一个关闭端口，比如8081。

然后在8081端口，使用ServerSocket类来监控。如果在8081上有输入，我们就认为激活了关闭命令。参见：

`Launcher.MonitorThread`

**只有一个Launcher.main()，如何区别启动和关闭？**

我们从main的参数里传入命令，比如start和stop。然后根据字符串分配到不同的函数，别忘了给默认值。

## 实现目标#2 ##